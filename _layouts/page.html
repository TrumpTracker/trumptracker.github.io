<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Article" lang="en">
    <!-- Viren Mohindra and Nuked Studios Copyright 2016 MIT Open Source @ https://github.com/TrumpTracker/trumptracker.github.io -->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">
        <meta name="description" content="Track Donald J Trump&#x27;'s Electoral Promises with Trump Tracker." />
        <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
        <title>Trump Tracker</title>
        <!-- Schema.org markup for Google+ -->
        <meta itemprop="name" content="Trump Tracker">
        <meta itemprop="author" content="Viren Mohindra">
        <meta itemprop="datePublished" content="2016-11-10T00:51:00-05:00">
        <meta itemprop="publisher" content="Nuked Studios">
        <meta itemprop="description" content="Track Donald J Trump&#x27;'s Electoral Promises with Trump Tracker.">
        <meta itemprop="headline" content="Trump Tracker - The Best Way to track his electoral promises." />
        <meta itemprop="image" content="assets/trump-main.jpg">
        <!-- Twitter Card data -->
        <meta name="twitter:card" content="summary_large_image"/>
        <meta name="twitter:site" content="@VirenMohindra">
        <meta name="twitter:title" content="Trump Tracker">
        <meta name="twitter:description" content="Track Donald J Trump&#x27;'s Electoral Promises with Trump Tracker.">
        <meta name="twitter:creator" content="@VirenMohindra">
        <!-- Twitter summary card with large image must be at least 280x150px -->
        <meta name="twitter:image" content="https://trumptracker.github.io/assets/trump-main.jpg">

        <!-- Open Graph data -->
        <meta property="og:title" content="Trump Tracker" />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://trumptracker.github.io/" />
        <meta property="og:image" content="https://trumptracker.github.io/assets/trump-main.jpg" />
        <meta property="og:description" content="Track Donald J Trump&#x27;'s Electoral Promises with Trump Tracker." />
        <meta property="og:site_name" content="Trump Tracker" />
        <meta property="article:published_time" content="2016-11-10T00:51:00-05:00" />
        <meta property="article:modified_time" content="2016-11-10T00:52:47-05:00" />
        <meta property="article:section" content="Politics" />
        <meta property="article:tag" content="Politics" />
        <meta property="fb:admins" content="785013260" />
        <link rel="shortcut icon"                       href="favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon"                    href="/assets/apple-touch-icon.png" />
        <link rel="apple-touch-icon" sizes="57x57"      href="/assets/apple-touch-icon-57x57.png" />
        <link rel="apple-touch-icon" sizes="72x72"      href="/assets/apple-touch-icon-72x72.png" />
        <link rel="apple-touch-icon" sizes="76x76"      href="/assets/apple-touch-icon-76x76.png" />
        <link rel="apple-touch-icon" sizes="114x114"    href="/assets/apple-touch-icon-114x114.png" />
        <link rel="apple-touch-icon" sizes="120x120"    href="/assets/apple-touch-icon-120x120.png" />
        <link rel="apple-touch-icon" sizes="144x144"    href="/assets/apple-touch-icon-144x144.png" />
        <link rel="apple-touch-icon" sizes="152x152"    href="/assets/apple-touch-icon-152x152.png" />
        <link rel="apple-touch-icon" sizes="180x180"    href="/assets/apple-touch-icon-180x180.png" />
        <meta name="apple-mobile-web-app-title"         content="Trump Tracker">
        <meta name="application-name"                   content="Trump Tracker">
        <meta name="theme-color"                        content="#ffffff">
        <!-- Latest compiled and minified CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/styles.css">
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
        <!-- Font Awesome -->
        <script src="https://use.fontawesome.com/1e8cbd500f.js"></script>
        <style>
            /* padding for the main-nav bar */
            body{padding-top:70px;}#share-buttons img {width: 35px;padding: 5px;border: 0;box-shadow: 0;display: inline;}
        </style>
        <!-- Analytics JS -->
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
            
            ga('create', 'UA-31897403-13', 'auto');
            ga('send', 'pageview');
            
            (function(h,o,t,j,a,r){
                h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
                h._hjSettings={hjid:331626,hjsv:5};
                a=o.getElementsByTagName('head')[0];
                r=o.createElement('script');r.async=1;
                r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
                a.appendChild(r);
            })(window,document,'//static.hotjar.com/c/hotjar-','.js?sv=');
        </script>
        <script id="site-data" type="application/json">{{site.data.data | jsonify}}</script>
    </head>
    <body>
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <!-- Brand and toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="#"><b>Trump Tracker</b></a>
                    <div class="input-group search">
                        <div class="input-group-addon"><span><i class="glyphicon glyphicon-search"></i> </span></div>
                        <input type="text" placeholder="keyword" class="form-control" id="search-field">
                    </div>
                </div>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <form class="navbar-form navbar-right" action="https://viren8.typeform.com/to/CA1RiV" method="get">
                        <button type="submit" class="btn btn-default" data-toggle="tooltip" data-placement="bottom" title="Will need sources!">Submit a new policy</button>
                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/about">About Us</a></li>
                    </ul>
                </div>
                <!-- /.navbar-collapse -->
            </div>
            <!-- /.container-fluid -->
        </nav>
        {{content}}
        <div class="container-fluid">
            <div class="page-header">
                <h5 class="text-right">Open Source at <a href="https://github.com/TrumpTracker/trumptracker.github.io"> <i class="fa fa-github fa-fw"></i></a></h5>
            </div>
        </div>
        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-4">
                        <p class="text-muted">Maintained by <a href="http://virenmohindra.me/" target="_blank">Viren Mohindra</a></p>
                    </div>
                    <div class="col-md-4">
                        <p class="text-muted">Inspired By <a href="https://www.trudeaumetre.ca/" target="_blank" rel="nofollow">TrudeauMetre</a></p>
                    </div>
                    <div class="col-md-4">
                        <p class="text-muted"><a href="http://nukewebbed.com/#section-termsandconditions" target="_blank">Privacy Policy and T&amp;C</a></p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <!-- Latest compiled and minified JavaScript -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
        <!-- Main JavaScript -->
        <script>
            $(document).ready(function () {
                $('#myTabs a').click(function (e) {
                    e.preventDefault()
                    $(this).tab('show')
                });
                $(function () {
                    $('[data-toggle="tooltip"]').tooltip()
                });
                //search function
                $("div.tab-pane input.search").keyup(function () {
                    var search = $(this).val().toLowerCase();
                    $(this).parent().parent().find("tr").hide();
                    $(this).parent().parent().find("tbody tr").each(function () {
                        if ($(this).text().toLowerCase().indexOf(search) != -1) {
                            $(this).show();
                            //show the heading for the section
                            $(this).parent().prev("thead").find("tr").show();
                        }
                    }, search);
                });
                $("#search-field").keyup(function () {
                    $("#search-results").html("");
                    if($("#search-field").val()!="") {
                        var search = $("#search-field").val().toLowerCase();
                        //show the results div
                        $("div.row.search-results").show();
                        //loop through each tab panel (easier to grab heading info)
                        $("div[role='tabpanel']").each(function () {
                            var panel_id = $(this).attr("id");
                            var display_section = true;
                            var display_heading = true
                            $(this).find("tbody td").each(function () {
                                if ($(this).text().toLowerCase().indexOf(search) != -1) {
                                    if(display_section) {
                                        //appends section to search results
                                        $("#search-results").append('<li class="list-group-item active"><span>' +
                                                $("ul.nav-tabs a[href='#" + panel_id + "']").html() + '</span></li>');
                                        //prevents duplicate section titles
                                        display_section = false;
                                    }
                                    if(display_heading) {
                                        //appends heading to search results
                                        $("#search-results").append('<li class="list-group-item list-group-item-info"><span>' +
                                                $(this).parent().parent().prev("thead").find("tr th").html() + '</span></li>');
                                        //prevents duplicate heading titles
                                        display_heading = false;
                                    }
                                    $("#search-results").append('<li class="list-group-item"><span>' + $(this).text() + '</span></li>')
                                }
                            });
                        });
                    } else {
                        //fixes spacing caused by empty elements
                        $("div.row.search-results").hide();
                    }
                });
                $("form.search").submit(function(e){
                    e.preventDefault();
                });

                var oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
                var todayDate = Date.now();
                // Inaguration date
                var inagurationDate = new Date(2017,00,20);

                var daysUntilInaguration = Math.floor((inagurationDate.getTime() - todayDate)/(oneDay));

                if (daysUntilInaguration === 0) {
                    $('#inauguration-time').text('Inauguration day is today.');
                } else if (daysUntilInaguration > 0) {
                    $('#inauguration-days').text(daysUntilInaguration);
                } else {
                    $('.inauguration-time-container').hide();
                }

                var daysInOffice = Math.floor((todayDate - inagurationDate)/(oneDay));
                if (daysInOffice < 0) {
                    daysInOffice = 0;
                }
                $('#days-in-office').text(daysInOffice);

                // Parse site data.json
                var siteData = JSON.parse($('#site-data').html());
                var totalPoints = 0;
                var pointsNotStarted = 0;
                var pointsInProgress = 0;
                var pointsAchieved = 0;
                var pointsBroken = 0;

                for(var i = 0; i < siteData.tabs.length; i++) {
                    for(var j = 0; j < siteData.tabs[i].sections.length; j++) {
                        for(var k = 0; k < siteData.tabs[i].sections[j].points.length; k++) {
                            var point = siteData.tabs[i].sections[j].points[k];
                            totalPoints++;
                            if (point.status === 'notStarted') {
                                pointsNotStarted++;
                            } else if (point.status === 'inProgress') {
                                pointsInProgress++;
                            } else if (point.status === 'achieved') {
                                pointsAchieved++;
                            } else if (point.status === 'broken') {
                                pointsBroken++;
                            }
                        }
                    }
                }

                $('.total-points').text(totalPoints || '0');
                $('#points-achieved').text(pointsAchieved || '0');
                $('#points-broken').text(pointsBroken || '0');
                $('#points-not-started').text(pointsNotStarted || '0');
                $('#points-in-progress').text(pointsInProgress || '0');

            });
        </script>
    </body>
</html>